(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{"4yiN":function(se,O,D){"use strict";D.r(O),D.d(O,"setupTypeScript",function(){return te}),D.d(O,"setupJavaScript",function(){return re}),D.d(O,"getJavaScriptWorker",function(){return ne}),D.d(O,"getTypeScriptWorker",function(){return ie});var f=D("v0SU"),W=function(t,r,e,s){function a(n){return n instanceof e?n:new e(function(o){o(n)})}return new(e||(e=Promise))(function(n,o){function c(u){try{i(s.next(u))}catch(l){o(l)}}function d(u){try{i(s.throw(u))}catch(l){o(l)}}function i(u){u.done?n(u.value):a(u.value).then(c,d)}i((s=s.apply(t,r||[])).next())})},V=function(t,r){var e={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},s,a,n,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(i){return function(u){return d([i,u])}}function d(i){if(s)throw new TypeError("Generator is already executing.");for(;e;)try{if(s=1,a&&(n=i[0]&2?a.return:i[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,i[1])).done)return n;switch(a=0,n&&(i=[i[0]&2,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,a=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(n=e.trys,!(n=n.length>0&&n[n.length-1])&&(i[0]===6||i[0]===2)){e=0;continue}if(i[0]===3&&(!n||i[1]>n[0]&&i[1]<n[3])){e.label=i[1];break}if(i[0]===6&&e.label<n[1]){e.label=n[1],n=i;break}if(n&&e.label<n[2]){e.label=n[2],e.ops.push(i);break}n[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(u){i=[6,u],a=0}finally{s=n=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},H=function(){function t(r,e){var s=this;this._modeId=r,this._defaults=e,this._worker=null,this._client=null,this._configChangeListener=this._defaults.onDidChange(function(){return s._stopWorker()}),this._updateExtraLibsToken=0,this._extraLibsChangeListener=this._defaults.onDidExtraLibsChange(function(){return s._updateExtraLibs()})}return t.prototype._stopWorker=function(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null},t.prototype.dispose=function(){this._configChangeListener.dispose(),this._extraLibsChangeListener.dispose(),this._stopWorker()},t.prototype._updateExtraLibs=function(){return W(this,void 0,void 0,function(){var r,e;return V(this,function(s){switch(s.label){case 0:return this._worker?(r=++this._updateExtraLibsToken,[4,this._worker.getProxy()]):[2];case 1:return e=s.sent(),this._updateExtraLibsToken!==r?[2]:(e.updateExtraLibs(this._defaults.getExtraLibs()),[2])}})})},t.prototype._getClient=function(){var r=this;if(!this._client){this._worker=f.f.createWebWorker({moduleId:"vs/language/typescript/tsWorker",label:this._modeId,keepIdleModels:!0,createData:{compilerOptions:this._defaults.getCompilerOptions(),extraLibs:this._defaults.getExtraLibs(),customWorkerPath:this._defaults.workerOptions.customWorkerPath}});var e=this._worker.getProxy();this._defaults.getEagerModelSync()&&(e=e.then(function(s){return r._worker?r._worker.withSyncedResources(f.f.getModels().filter(function(a){return a.getModeId()===r._modeId}).map(function(a){return a.uri})):s})),this._client=e}return this._client},t.prototype.getLanguageServiceWorker=function(){for(var r=this,e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var a;return this._getClient().then(function(n){a=n}).then(function(n){if(r._worker)return r._worker.withSyncedResources(e)}).then(function(n){return a})},t}(),p={};p["lib.d.ts"]=!0,p["lib.dom.d.ts"]=!0,p["lib.dom.iterable.d.ts"]=!0,p["lib.es2015.collection.d.ts"]=!0,p["lib.es2015.core.d.ts"]=!0,p["lib.es2015.d.ts"]=!0,p["lib.es2015.generator.d.ts"]=!0,p["lib.es2015.iterable.d.ts"]=!0,p["lib.es2015.promise.d.ts"]=!0,p["lib.es2015.proxy.d.ts"]=!0,p["lib.es2015.reflect.d.ts"]=!0,p["lib.es2015.symbol.d.ts"]=!0,p["lib.es2015.symbol.wellknown.d.ts"]=!0,p["lib.es2016.array.include.d.ts"]=!0,p["lib.es2016.d.ts"]=!0,p["lib.es2016.full.d.ts"]=!0,p["lib.es2017.d.ts"]=!0,p["lib.es2017.full.d.ts"]=!0,p["lib.es2017.intl.d.ts"]=!0,p["lib.es2017.object.d.ts"]=!0,p["lib.es2017.sharedmemory.d.ts"]=!0,p["lib.es2017.string.d.ts"]=!0,p["lib.es2017.typedarrays.d.ts"]=!0,p["lib.es2018.asyncgenerator.d.ts"]=!0,p["lib.es2018.asynciterable.d.ts"]=!0,p["lib.es2018.d.ts"]=!0,p["lib.es2018.full.d.ts"]=!0,p["lib.es2018.intl.d.ts"]=!0,p["lib.es2018.promise.d.ts"]=!0,p["lib.es2018.regexp.d.ts"]=!0,p["lib.es2019.array.d.ts"]=!0,p["lib.es2019.d.ts"]=!0,p["lib.es2019.full.d.ts"]=!0,p["lib.es2019.object.d.ts"]=!0,p["lib.es2019.string.d.ts"]=!0,p["lib.es2019.symbol.d.ts"]=!0,p["lib.es2020.bigint.d.ts"]=!0,p["lib.es2020.d.ts"]=!0,p["lib.es2020.full.d.ts"]=!0,p["lib.es2020.intl.d.ts"]=!0,p["lib.es2020.promise.d.ts"]=!0,p["lib.es2020.sharedmemory.d.ts"]=!0,p["lib.es2020.string.d.ts"]=!0,p["lib.es2020.symbol.wellknown.d.ts"]=!0,p["lib.es5.d.ts"]=!0,p["lib.es6.d.ts"]=!0,p["lib.esnext.d.ts"]=!0,p["lib.esnext.full.d.ts"]=!0,p["lib.esnext.intl.d.ts"]=!0,p["lib.esnext.promise.d.ts"]=!0,p["lib.esnext.string.d.ts"]=!0,p["lib.esnext.weakref.d.ts"]=!0,p["lib.scripthost.d.ts"]=!0,p["lib.webworker.d.ts"]=!0,p["lib.webworker.importscripts.d.ts"]=!0,p["lib.webworker.iterable.d.ts"]=!0;var x=function(){var t=function(e,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(a[o]=n[o])},t(e,s)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function s(){this.constructor=r}r.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}}(),k=function(t,r,e,s){function a(n){return n instanceof e?n:new e(function(o){o(n)})}return new(e||(e=Promise))(function(n,o){function c(u){try{i(s.next(u))}catch(l){o(l)}}function d(u){try{i(s.throw(u))}catch(l){o(l)}}function i(u){u.done?n(u.value):a(u.value).then(c,d)}i((s=s.apply(t,r||[])).next())})},A=function(t,r){var e={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},s,a,n,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(i){return function(u){return d([i,u])}}function d(i){if(s)throw new TypeError("Generator is already executing.");for(;e;)try{if(s=1,a&&(n=i[0]&2?a.return:i[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,i[1])).done)return n;switch(a=0,n&&(i=[i[0]&2,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,a=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(n=e.trys,!(n=n.length>0&&n[n.length-1])&&(i[0]===6||i[0]===2)){e=0;continue}if(i[0]===3&&(!n||i[1]>n[0]&&i[1]<n[3])){e.label=i[1];break}if(i[0]===6&&e.label<n[1]){e.label=n[1],n=i;break}if(n&&e.label<n[2]){e.label=n[2],e.ops.push(i);break}n[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(u){i=[6,u],a=0}finally{s=n=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},N;(function(t){t[t.None=0]="None",t[t.Block=1]="Block",t[t.Smart=2]="Smart"})(N||(N={}));function P(t,r,e){if(e===void 0&&(e=0),typeof t=="string")return t;if(t===void 0)return"";var s="";if(e){s+=r;for(var a=0;a<e;a++)s+="  "}if(s+=t.messageText,e++,t.next)for(var n=0,o=t.next;n<o.length;n++){var c=o[n];s+=P(c,r,e)}return s}function F(t){return t?t.map(function(r){return r.text}).join(""):""}var _=function(){function t(r){this._worker=r}return t.prototype._textSpanToRange=function(r,e){var s=r.getPositionAt(e.start),a=r.getPositionAt(e.start+e.length),n=s.lineNumber,o=s.column,c=a.lineNumber,d=a.column;return{startLineNumber:n,startColumn:o,endLineNumber:c,endColumn:d}},t}(),j=function(){function t(r){this._worker=r,this._libFiles={},this._hasFetchedLibFiles=!1,this._fetchLibFilesPromise=null}return t.prototype.isLibFile=function(r){return r&&r.path.indexOf("/lib.")===0?!!p[r.path.slice(1)]:!1},t.prototype.getOrCreateModel=function(r){var e=f.f.getModel(r);return e||(this.isLibFile(r)&&this._hasFetchedLibFiles?f.f.createModel(this._libFiles[r.path.slice(1)],"typescript",r):null)},t.prototype._containsLibFile=function(r){for(var e=0,s=r;e<s.length;e++){var a=s[e];if(this.isLibFile(a))return!0}return!1},t.prototype.fetchLibFilesIfNecessary=function(r){return k(this,void 0,void 0,function(){return A(this,function(e){switch(e.label){case 0:return this._containsLibFile(r)?[4,this._fetchLibFiles()]:[2];case 1:return e.sent(),[2]}})})},t.prototype._fetchLibFiles=function(){var r=this;return this._fetchLibFilesPromise||(this._fetchLibFilesPromise=this._worker().then(function(e){return e.getLibFiles()}).then(function(e){r._hasFetchedLibFiles=!0,r._libFiles=e})),this._fetchLibFilesPromise},t}(),T;(function(t){t[t.Warning=0]="Warning",t[t.Error=1]="Error",t[t.Suggestion=2]="Suggestion",t[t.Message=3]="Message"})(T||(T={}));var B=function(t){x(r,t);function r(e,s,a,n){var o=t.call(this,n)||this;o._libFiles=e,o._defaults=s,o._selector=a,o._disposables=[],o._listener=Object.create(null);var c=function(l){if(l.getModeId()===a){var g=function(){var w=o._defaults.getDiagnosticsOptions().onlyVisible;w?l.isAttachedToEditor()&&o._doValidate(l):o._doValidate(l)},h,b=l.onDidChangeContent(function(){clearTimeout(h),h=setTimeout(g,500)}),v=l.onDidChangeAttached(function(){var m=o._defaults.getDiagnosticsOptions().onlyVisible;m&&(l.isAttachedToEditor()?g():f.f.setModelMarkers(l,o._selector,[]))});o._listener[l.uri.toString()]={dispose:function(){b.dispose(),v.dispose(),clearTimeout(h)}},g()}},d=function(l){f.f.setModelMarkers(l,o._selector,[]);var g=l.uri.toString();o._listener[g]&&(o._listener[g].dispose(),delete o._listener[g])};o._disposables.push(f.f.onDidCreateModel(function(u){return c(u)})),o._disposables.push(f.f.onWillDisposeModel(d)),o._disposables.push(f.f.onDidChangeModelLanguage(function(u){d(u.model),c(u.model)})),o._disposables.push({dispose:function(){for(var l=0,g=f.f.getModels();l<g.length;l++){var h=g[l];d(h)}}});var i=function(){for(var l=0,g=f.f.getModels();l<g.length;l++){var h=g[l];d(h),c(h)}};return o._disposables.push(o._defaults.onDidChange(i)),o._disposables.push(o._defaults.onDidExtraLibsChange(i)),f.f.getModels().forEach(function(u){return c(u)}),o}return r.prototype.dispose=function(){this._disposables.forEach(function(e){return e&&e.dispose()}),this._disposables=[]},r.prototype._doValidate=function(e){return k(this,void 0,void 0,function(){var s,a,n,o,c,d,i,u,l,g=this;return A(this,function(h){switch(h.label){case 0:return[4,this._worker(e.uri)];case 1:return s=h.sent(),e.isDisposed()?[2]:(a=[],n=this._defaults.getDiagnosticsOptions(),o=n.noSyntaxValidation,c=n.noSemanticValidation,d=n.noSuggestionDiagnostics,o||a.push(s.getSyntacticDiagnostics(e.uri.toString())),c||a.push(s.getSemanticDiagnostics(e.uri.toString())),d||a.push(s.getSuggestionDiagnostics(e.uri.toString())),[4,Promise.all(a)]);case 2:return i=h.sent(),!i||e.isDisposed()?[2]:(u=i.reduce(function(b,v){return v.concat(b)},[]).filter(function(b){return(g._defaults.getDiagnosticsOptions().diagnosticCodesToIgnore||[]).indexOf(b.code)===-1}),l=u.map(function(b){return b.relatedInformation||[]}).reduce(function(b,v){return v.concat(b)},[]).map(function(b){return b.file?f.e.parse(b.file.fileName):null}),[4,this._libFiles.fetchLibFilesIfNecessary(l)]);case 3:return h.sent(),e.isDisposed()?[2]:(f.f.setModelMarkers(e,this._selector,u.map(function(b){return g._convertDiagnostics(e,b)})),[2])}})})},r.prototype._convertDiagnostics=function(e,s){var a=s.start||0,n=s.length||1,o=e.getPositionAt(a),c=o.lineNumber,d=o.column,i=e.getPositionAt(a+n),u=i.lineNumber,l=i.column,g=[];return s.reportsUnnecessary&&g.push(f.c.Unnecessary),s.reportsDeprecated&&g.push(f.c.Deprecated),{severity:this._tsDiagnosticCategoryToMarkerSeverity(s.category),startLineNumber:c,startColumn:d,endLineNumber:u,endColumn:l,message:P(s.messageText,`
`),code:s.code.toString(),tags:g,relatedInformation:this._convertRelatedInformation(e,s.relatedInformation)}},r.prototype._convertRelatedInformation=function(e,s){var a=this;if(!!s){var n=[];return s.forEach(function(o){var c=e;if(o.file){var d=f.e.parse(o.file.fileName);c=a._libFiles.getOrCreateModel(d)}if(!!c){var i=o.start||0,u=o.length||1,l=c.getPositionAt(i),g=l.lineNumber,h=l.column,b=c.getPositionAt(i+u),v=b.lineNumber,m=b.column;n.push({resource:c.uri,startLineNumber:g,startColumn:h,endLineNumber:v,endColumn:m,message:P(o.messageText,`
`)})}}),n}},r.prototype._tsDiagnosticCategoryToMarkerSeverity=function(e){switch(e){case T.Error:return f.b.Error;case T.Message:return f.b.Info;case T.Warning:return f.b.Warning;case T.Suggestion:return f.b.Hint}return f.b.Info},r}(_),J=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"triggerCharacters",{get:function(){return["."]},enumerable:!1,configurable:!0}),r.prototype.provideCompletionItems=function(e,s,a,n){return k(this,void 0,void 0,function(){var o,c,d,i,u,l,g;return A(this,function(h){switch(h.label){case 0:return o=e.getWordUntilPosition(s),c=new f.d(s.lineNumber,o.startColumn,s.lineNumber,o.endColumn),d=e.uri,i=e.getOffsetAt(s),[4,this._worker(d)];case 1:return u=h.sent(),e.isDisposed()?[2]:[4,u.getCompletionsAtPosition(d.toString(),i)];case 2:return l=h.sent(),!l||e.isDisposed()?[2]:(g=l.entries.map(function(b){var v,m=c;if(b.replacementSpan){var w=e.getPositionAt(b.replacementSpan.start),C=e.getPositionAt(b.replacementSpan.start+b.replacementSpan.length);m=new f.d(w.lineNumber,w.column,C.lineNumber,C.column)}var E=[];return((v=b.kindModifiers)===null||v===void 0?void 0:v.indexOf("deprecated"))!==-1&&E.push(f.g.CompletionItemTag.Deprecated),{uri:d,position:s,offset:i,range:m,label:b.name,insertText:b.name,sortText:b.sortText,kind:r.convertKind(b.kind),tags:E}}),[2,{suggestions:g}])}})})},r.prototype.resolveCompletionItem=function(e,s){return k(this,void 0,void 0,function(){var a,n,o,c,d,i;return A(this,function(u){switch(u.label){case 0:return a=e,n=a.uri,o=a.position,c=a.offset,[4,this._worker(n)];case 1:return d=u.sent(),[4,d.getCompletionEntryDetails(n.toString(),c,a.label)];case 2:return i=u.sent(),i?[2,{uri:n,position:o,label:i.name,kind:r.convertKind(i.kind),detail:F(i.displayParts),documentation:{value:r.createDocumentationString(i)}}]:[2,a]}})})},r.convertKind=function(e){switch(e){case y.primitiveType:case y.keyword:return f.g.CompletionItemKind.Keyword;case y.variable:case y.localVariable:return f.g.CompletionItemKind.Variable;case y.memberVariable:case y.memberGetAccessor:case y.memberSetAccessor:return f.g.CompletionItemKind.Field;case y.function:case y.memberFunction:case y.constructSignature:case y.callSignature:case y.indexSignature:return f.g.CompletionItemKind.Function;case y.enum:return f.g.CompletionItemKind.Enum;case y.module:return f.g.CompletionItemKind.Module;case y.class:return f.g.CompletionItemKind.Class;case y.interface:return f.g.CompletionItemKind.Interface;case y.warning:return f.g.CompletionItemKind.File}return f.g.CompletionItemKind.Property},r.createDocumentationString=function(e){var s=F(e.documentation);if(e.tags)for(var a=0,n=e.tags;a<n.length;a++){var o=n[a];s+=`

`+R(o)}return s},r}(_);function R(t){var r="*@"+t.name+"*";if(t.name==="param"&&t.text){var e=t.text.split(" "),s=e[0],a=e.slice(1);r+="`"+s+"`",a.length>0&&(r+=" \u2014 "+a.join(" "))}else t.text&&(r+=" \u2014 "+t.text);return r}var U=function(t){x(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.signatureHelpTriggerCharacters=["(",","],e}return r._toSignatureHelpTriggerReason=function(e){switch(e.triggerKind){case f.g.SignatureHelpTriggerKind.TriggerCharacter:return e.triggerCharacter?e.isRetrigger?{kind:"retrigger",triggerCharacter:e.triggerCharacter}:{kind:"characterTyped",triggerCharacter:e.triggerCharacter}:{kind:"invoked"};case f.g.SignatureHelpTriggerKind.ContentChange:return e.isRetrigger?{kind:"retrigger"}:{kind:"invoked"};case f.g.SignatureHelpTriggerKind.Invoke:default:return{kind:"invoked"}}},r.prototype.provideSignatureHelp=function(e,s,a,n){return k(this,void 0,void 0,function(){var o,c,d,i,u;return A(this,function(l){switch(l.label){case 0:return o=e.uri,c=e.getOffsetAt(s),[4,this._worker(o)];case 1:return d=l.sent(),e.isDisposed()?[2]:[4,d.getSignatureHelpItems(o.toString(),c,{triggerReason:r._toSignatureHelpTriggerReason(n)})];case 2:return i=l.sent(),!i||e.isDisposed()?[2]:(u={activeSignature:i.selectedItemIndex,activeParameter:i.argumentIndex,signatures:[]},i.items.forEach(function(g){var h={label:"",parameters:[]};h.documentation={value:F(g.documentation)},h.label+=F(g.prefixDisplayParts),g.parameters.forEach(function(b,v,m){var w=F(b.displayParts),C={label:w,documentation:{value:F(b.documentation)}};h.label+=w,h.parameters.push(C),v<m.length-1&&(h.label+=F(g.separatorDisplayParts))}),h.label+=F(g.suffixDisplayParts),u.signatures.push(h)}),[2,{value:u,dispose:function(){}}])}})})},r}(_),z=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.provideHover=function(e,s,a){return k(this,void 0,void 0,function(){var n,o,c,d,i,u,l;return A(this,function(g){switch(g.label){case 0:return n=e.uri,o=e.getOffsetAt(s),[4,this._worker(n)];case 1:return c=g.sent(),e.isDisposed()?[2]:[4,c.getQuickInfoAtPosition(n.toString(),o)];case 2:return d=g.sent(),!d||e.isDisposed()?[2]:(i=F(d.documentation),u=d.tags?d.tags.map(function(h){return R(h)}).join(`  

`):"",l=F(d.displayParts),[2,{range:this._textSpanToRange(e,d.textSpan),contents:[{value:"```typescript\n"+l+"\n```\n"},{value:i+(u?`

`+u:"")}]}])}})})},r}(_),G=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.provideDocumentHighlights=function(e,s,a){return k(this,void 0,void 0,function(){var n,o,c,d,i=this;return A(this,function(u){switch(u.label){case 0:return n=e.uri,o=e.getOffsetAt(s),[4,this._worker(n)];case 1:return c=u.sent(),e.isDisposed()?[2]:[4,c.getOccurrencesAtPosition(n.toString(),o)];case 2:return d=u.sent(),!d||e.isDisposed()?[2]:[2,d.map(function(l){return{range:i._textSpanToRange(e,l.textSpan),kind:l.isWriteAccess?f.g.DocumentHighlightKind.Write:f.g.DocumentHighlightKind.Text}})]}})})},r}(_),Q=function(t){x(r,t);function r(e,s){var a=t.call(this,s)||this;return a._libFiles=e,a}return r.prototype.provideDefinition=function(e,s,a){return k(this,void 0,void 0,function(){var n,o,c,d,i,u,l,g,h,b;return A(this,function(v){switch(v.label){case 0:return n=e.uri,o=e.getOffsetAt(s),[4,this._worker(n)];case 1:return c=v.sent(),e.isDisposed()?[2]:[4,c.getDefinitionAtPosition(n.toString(),o)];case 2:return d=v.sent(),!d||e.isDisposed()?[2]:[4,this._libFiles.fetchLibFilesIfNecessary(d.map(function(m){return f.e.parse(m.fileName)}))];case 3:if(v.sent(),e.isDisposed())return[2];for(i=[],u=0,l=d;u<l.length;u++)g=l[u],h=f.e.parse(g.fileName),b=this._libFiles.getOrCreateModel(h),b&&i.push({uri:h,range:this._textSpanToRange(b,g.textSpan)});return[2,i]}})})},r}(_),X=function(t){x(r,t);function r(e,s){var a=t.call(this,s)||this;return a._libFiles=e,a}return r.prototype.provideReferences=function(e,s,a,n){return k(this,void 0,void 0,function(){var o,c,d,i,u,l,g,h,b,v;return A(this,function(m){switch(m.label){case 0:return o=e.uri,c=e.getOffsetAt(s),[4,this._worker(o)];case 1:return d=m.sent(),e.isDisposed()?[2]:[4,d.getReferencesAtPosition(o.toString(),c)];case 2:return i=m.sent(),!i||e.isDisposed()?[2]:[4,this._libFiles.fetchLibFilesIfNecessary(i.map(function(w){return f.e.parse(w.fileName)}))];case 3:if(m.sent(),e.isDisposed())return[2];for(u=[],l=0,g=i;l<g.length;l++)h=g[l],b=f.e.parse(h.fileName),v=this._libFiles.getOrCreateModel(b),v&&u.push({uri:b,range:this._textSpanToRange(v,h.textSpan)});return[2,u]}})})},r}(_),Y=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.provideDocumentSymbols=function(e,s){return k(this,void 0,void 0,function(){var a,n,o,c,d,i=this;return A(this,function(u){switch(u.label){case 0:return a=e.uri,[4,this._worker(a)];case 1:return n=u.sent(),e.isDisposed()?[2]:[4,n.getNavigationBarItems(a.toString())];case 2:return o=u.sent(),!o||e.isDisposed()?[2]:(c=function(g,h,b){var v={name:h.text,detail:"",kind:S[h.kind]||f.g.SymbolKind.Variable,range:i._textSpanToRange(e,h.spans[0]),selectionRange:i._textSpanToRange(e,h.spans[0]),tags:[],containerName:b};if(h.childItems&&h.childItems.length>0)for(var m=0,w=h.childItems;m<w.length;m++){var C=w[m];c(g,C,v.name)}g.push(v)},d=[],o.forEach(function(l){return c(d,l)}),[2,d])}})})},r}(_),y=function(){function t(){}return t.unknown="",t.keyword="keyword",t.script="script",t.module="module",t.class="class",t.interface="interface",t.type="type",t.enum="enum",t.variable="var",t.localVariable="local var",t.function="function",t.localFunction="local function",t.memberFunction="method",t.memberGetAccessor="getter",t.memberSetAccessor="setter",t.memberVariable="property",t.constructorImplementation="constructor",t.callSignature="call",t.indexSignature="index",t.constructSignature="construct",t.parameter="parameter",t.typeParameter="type parameter",t.primitiveType="primitive type",t.label="label",t.alias="alias",t.const="const",t.let="let",t.warning="warning",t}(),S=Object.create(null);S[y.module]=f.g.SymbolKind.Module,S[y.class]=f.g.SymbolKind.Class,S[y.enum]=f.g.SymbolKind.Enum,S[y.interface]=f.g.SymbolKind.Interface,S[y.memberFunction]=f.g.SymbolKind.Method,S[y.memberVariable]=f.g.SymbolKind.Property,S[y.memberGetAccessor]=f.g.SymbolKind.Property,S[y.memberSetAccessor]=f.g.SymbolKind.Property,S[y.variable]=f.g.SymbolKind.Variable,S[y.const]=f.g.SymbolKind.Variable,S[y.localVariable]=f.g.SymbolKind.Variable,S[y.variable]=f.g.SymbolKind.Variable,S[y.function]=f.g.SymbolKind.Function,S[y.localFunction]=f.g.SymbolKind.Function;var L=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r._convertOptions=function(e){return{ConvertTabsToSpaces:e.insertSpaces,TabSize:e.tabSize,IndentSize:e.tabSize,IndentStyle:N.Smart,NewLineCharacter:`
`,InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!0,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:!1,InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1,PlaceOpenBraceOnNewLineForFunctions:!1}},r.prototype._convertTextChanges=function(e,s){return{text:s.newText,range:this._textSpanToRange(e,s.span)}},r}(_),Z=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.provideDocumentRangeFormattingEdits=function(e,s,a,n){return k(this,void 0,void 0,function(){var o,c,d,i,u,l=this;return A(this,function(g){switch(g.label){case 0:return o=e.uri,c=e.getOffsetAt({lineNumber:s.startLineNumber,column:s.startColumn}),d=e.getOffsetAt({lineNumber:s.endLineNumber,column:s.endColumn}),[4,this._worker(o)];case 1:return i=g.sent(),e.isDisposed()?[2]:[4,i.getFormattingEditsForRange(o.toString(),c,d,L._convertOptions(a))];case 2:return u=g.sent(),!u||e.isDisposed()?[2]:[2,u.map(function(h){return l._convertTextChanges(e,h)})]}})})},r}(L),$=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"autoFormatTriggerCharacters",{get:function(){return[";","}",`
`]},enumerable:!1,configurable:!0}),r.prototype.provideOnTypeFormattingEdits=function(e,s,a,n,o){return k(this,void 0,void 0,function(){var c,d,i,u,l=this;return A(this,function(g){switch(g.label){case 0:return c=e.uri,d=e.getOffsetAt(s),[4,this._worker(c)];case 1:return i=g.sent(),e.isDisposed()?[2]:[4,i.getFormattingEditsAfterKeystroke(c.toString(),d,a,L._convertOptions(n))];case 2:return u=g.sent(),!u||e.isDisposed()?[2]:[2,u.map(function(h){return l._convertTextChanges(e,h)})]}})})},r}(L),q=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.provideCodeActions=function(e,s,a,n){return k(this,void 0,void 0,function(){var o,c,d,i,u,l,g,h,b=this;return A(this,function(v){switch(v.label){case 0:return o=e.uri,c=e.getOffsetAt({lineNumber:s.startLineNumber,column:s.startColumn}),d=e.getOffsetAt({lineNumber:s.endLineNumber,column:s.endColumn}),i=L._convertOptions(e.getOptions()),u=a.markers.filter(function(m){return m.code}).map(function(m){return m.code}).map(Number),[4,this._worker(o)];case 1:return l=v.sent(),e.isDisposed()?[2]:[4,l.getCodeFixesAtPosition(o.toString(),c,d,u,i)];case 2:return g=v.sent(),!g||e.isDisposed()?[2,{actions:[],dispose:function(){}}]:(h=g.filter(function(m){return m.changes.filter(function(w){return w.isNewFile}).length===0}).map(function(m){return b._tsCodeFixActionToMonacoCodeAction(e,a,m)}),[2,{actions:h,dispose:function(){}}])}})})},r.prototype._tsCodeFixActionToMonacoCodeAction=function(e,s,a){for(var n=[],o=0,c=a.changes;o<c.length;o++)for(var d=c[o],i=0,u=d.textChanges;i<u.length;i++){var l=u[i];n.push({resource:e.uri,edit:{range:this._textSpanToRange(e,l.span),text:l.newText}})}var g={title:a.description,edit:{edits:n},diagnostics:s.markers,kind:"quickfix"};return g},r}(L),ee=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.provideRenameEdits=function(e,s,a,n){return k(this,void 0,void 0,function(){var o,c,d,i,u,l,g,h,b,v,m,w;return A(this,function(C){switch(C.label){case 0:return o=e.uri,c=o.toString(),d=e.getOffsetAt(s),[4,this._worker(o)];case 1:return i=C.sent(),e.isDisposed()?[2]:[4,i.getRenameInfo(c,d,{allowRenameOfImportPath:!1})];case 2:if(u=C.sent(),u.canRename===!1)return[2,{edits:[],rejectReason:u.localizedErrorMessage}];if(u.fileToRename!==void 0)throw new Error("Renaming files is not supported.");return[4,i.findRenameLocations(c,d,!1,!1,!1)];case 3:if(l=C.sent(),!l||e.isDisposed())return[2];for(g=[],h=0,b=l;h<b.length;h++)if(v=b[h],m=f.e.parse(v.fileName),w=f.f.getModel(m),w)g.push({resource:m,edit:{range:this._textSpanToRange(w,v.textSpan),text:a}});else throw new Error("Unknown URI "+m+".");return[2,{edits:g}]}})})},r}(_),I,M;function te(t){M=K(t,"typescript")}function re(t){I=K(t,"javascript")}function ne(){return new Promise(function(t,r){if(!I)return r("JavaScript not registered!");t(I)})}function ie(){return new Promise(function(t,r){if(!M)return r("TypeScript not registered!");t(M)})}function K(t,r){var e=new H(r,t),s=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return e.getLanguageServiceWorker.apply(e,o)},a=new j(s);return f.g.registerCompletionItemProvider(r,new J(s)),f.g.registerSignatureHelpProvider(r,new U(s)),f.g.registerHoverProvider(r,new z(s)),f.g.registerDocumentHighlightProvider(r,new G(s)),f.g.registerDefinitionProvider(r,new Q(a,s)),f.g.registerReferenceProvider(r,new X(a,s)),f.g.registerDocumentSymbolProvider(r,new Y(s)),f.g.registerDocumentRangeFormattingEditProvider(r,new Z(s)),f.g.registerOnTypeFormattingEditProvider(r,new $(s)),f.g.registerCodeActionProvider(r,new q(s)),f.g.registerRenameProvider(r,new ee(s)),new B(a,t,r,s),s}}}]);
